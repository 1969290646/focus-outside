!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.FocusOutside=t()}(this,function(){"use strict";function e(e){var n=e instanceof HTMLElement;return n||t("HTMLElement",e),n}function t(e,t){console.error("FocusOutside: expects a "+e+" value, got "+t)}return function(){function n(e){var t=e.currentTarget,n=u.get(t);clearTimeout(n.timerId)}function i(e){var t=e.currentTarget,n=u.get(t);n.timerId=setTimeout(n.callback,0)}var u=new function(){function e(e){for(var n=0;n<t.length;n++)if(t[n][0]===e)return{index:n,value:t[n][1],key:e}}var t=[];return{get:function(t){var n=e(t);return n&&n.value},set:function(n,i){var u=e(n);return u?t[u.index][1]=i:(t.push([n,i]),this.size++),this},has:function(t){return!!e(t)},size:0,clear:function(){t=[],this.size=0},delete:function(n){var i=e(n);return!!i&&(t.splice(i.index,1),this.size--,!0)}}},r=!1;return{bind:function(o,c){e(o)&&function(e){var n="function"==typeof e;return n||t("function",e),n}(c)&&(u.set(o,{callback:c,oldTabIndex:o.getAttribute("tabindex"),oldOutline:o.style.outline}),function(t){if(e(t))return"string"==typeof t.getAttribute("tabindex")}(o)||function(t){e(t)&&(t.setAttribute("tabindex",-1),r&&(t.style.outline="none"))}(o),o.addEventListener("focusin",n),o.addEventListener("focusout",i))},unbind:function(e){var t=u.get(e),r=t.oldOutline,o=t.oldTabIndex;r&&(e.style.outline=r),o&&e.setAttribute("tabindex",o),u.delete(e),e.removeEventListener("focusin",n),e.removeEventListener("focusout",i)},setIsHideOutline:function(e){r=e},getIsHideOutline:function(){return r}}}()});
