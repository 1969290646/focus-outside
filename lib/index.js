!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.FocusOutside={})}(this,function(e){"use strict";function t(e){var t=e.target,n=r(o.entries(),t)||{},i=n.nodeList;n.el&&clearTimeout(i.timerId)}function n(e){var t=e.target,n=u.find(function(e){return e.contains(t)||e===t});if(n){var i=r(o.entries(),n)||{},a=i.key;i.el&&(i.nodeList.timerId=setTimeout(a,10))}}function r(e,t){for(var n=0;n<e.length;n++){var r=i(e[n],2),u=r[0],o=r[1],a=o.find(function(e){return e.node===t});if(a)return{key:u,nodeList:o,el:a}}}var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=[],o=new function(){function e(e){for(var n=0;n<t.length;n++)if(t[n][0]===e)return{index:n,value:t[n][1],key:e}}var t=[];return{get:function(t){var n=e(t);return n&&n.value},set:function(n,r){var i=e(n);return i?t[i.index][1]=r:(t.push([n,r]),this.size++),this},has:function(t){return!!e(t)},size:0,clear:function(){t=[],this.size=0},values:function(){return t.map(function(e){return e[1]})},entries:function(){return t},delete:function(n){var r=e(n);return!!r&&(t.splice(r.index,1),this.size--,!0)}}};e.bind=function(e,r){u.indexOf(e)<0&&u.push(e),o.has(r)?o.get(r).push({node:e,oldTabIndex:e.getAttribute("tabindex")}):o.set(r,[{node:e,oldTabIndex:e.getAttribute("tabindex")}]);(function(e){return isNaN(parseInt(e.getAttribute("tabindex")))})(e)&&function(e){e.setAttribute("tabindex",-1)}(e),e.addEventListener("focusin",t),e.addEventListener("focusout",n)},e.unbind=function(e){var i=r(o.entries(),e)||{},u=i.el,a=i.key,f=i.nodeList;if(u){var s=u.node,d=u.oldTabIndex;d?s.setAttribute("tabindex",d):s.removeAttribute("tabindex"),s.removeEventListener("focusin",t),s.removeEventListener("focusout",n);var c=f.indexOf(u);f.splice(c,1),f.length||o.delete(a)}},Object.defineProperty(e,"__esModule",{value:!0})});
