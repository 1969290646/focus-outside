!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.FocusOutside={})}(this,function(e){"use strict";var t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var o,f=e[Symbol.iterator]();!(r=(o=f.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,u=e}finally{try{!r&&f.return&&f.return()}finally{if(i)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=[],r=new function(){var e=[];function t(t){for(var n=0;n<e.length;n++)if(e[n][0]===t)return{index:n,value:e[n][1],key:t}}return{get:function(e){var n=t(e);return n&&n.value},set:function(n,r){var i=t(n);return i?e[i.index][1]=r:(e.push([n,r]),this.size++),this},has:function(e){return!!t(e)},size:0,clear:function(){e=[],this.size=0},values:function(){return e.map(function(e){return e[1]})},entries:function(){return e},delete:function(n){var r=t(n);return!!r&&(e.splice(r.index,1),this.size--,!0)}}};function i(e){return n.find(function(t){return t.contains(e)||t===e})}function u(e){var t=i(e.target);if(t){var n=f(r.entries(),t)||{},u=n.el,o=n.nodeList;u&&clearTimeout(o.timerId)}}function o(e){var t=i(e.target);if(t){var n=f(r.entries(),t)||{},u=n.el,o=n.key,a=n.nodeList;u&&(a.timerId=setTimeout(o,10))}}function f(e,n){for(var r=0;r<e.length;r++){var i=t(e[r],2),u=i[0],o=i[1],f=o.find(function(e){return e.node===n});if(f)return{key:u,nodeList:o,el:f}}}e.bind=function(e,t){n.indexOf(e)<0&&n.push(e),r.has(t)?r.get(t).push({node:e,oldTabIndex:e.getAttribute("tabindex")}):r.set(t,[{node:e,oldTabIndex:e.getAttribute("tabindex")}]),function(e){return isNaN(parseInt(e.getAttribute("tabindex")))}(e)&&function(e){e.setAttribute("tabindex",-1)}(e),e.addEventListener("focusin",u),e.addEventListener("focusout",o)},e.unbind=function(e){var t=f(r.entries(),e)||{},i=t.el,a=t.key,s=t.nodeList;if(i){var d=i.node,c=i.oldTabIndex,l=n.indexOf(d);l>-1&&n.splice(l),c?d.setAttribute("tabindex",c):d.removeAttribute("tabindex"),d.removeEventListener("focusin",u),d.removeEventListener("focusout",o);var v=s.indexOf(i);l>-1&&s.splice(v,1),s.length||r.delete(a)}},Object.defineProperty(e,"__esModule",{value:!0})});
